# 腾讯后台开发面经

一面

介绍自己 

介绍实习做的项目，经历 
面对过最大的困难，如何解决的 
以前的同事，或者朋友如何评价你的 
分布式了解多少 
微服务一些基本概念 
了解哪些服务调用方式，RPC有哪些数据传输方式 
traceid了解？有看过那篇论文的英文或者中文版吗？能介绍具体设计思路吗？ 
你的项目中token是用什么生成的，JWT的签名体系是否了解？

算法题

- 实现LRU缓存，不能直接继承linkedlist类，不能使用linkedlist，必须手动实现双向[链表](https://www.nowcoder.com/jump/super-jump/word?word=链表)结构
- 有一个[链表](https://www.nowcoder.com/jump/super-jump/word?word=链表)，实现一个函数，输入该[链表](https://www.nowcoder.com/jump/super-jump/word?word=链表)和数字m，将[链表](https://www.nowcoder.com/jump/super-jump/word?word=链表)中第m个节点后的节点，和第m个节点前的节点，交换

问的问题很奇怪，[算法题](https://www.nowcoder.com/jump/super-jump/word?word=算法题)不难，但喜欢给我挖坑，LRU做到最后都是和他讨论思路了，本来都快秒了，不过面试官对我过往经历和思考表现比较满意，一面混过了



二面

介绍自己 

算法题

- 手写实现KV对缓存（我觉得可以叫键值对缓存），刚写了点，又问道 内存不够了怎么办？ 并发写入冲突了怎么办？我主要和面试官讨论下思路，但感觉并不是很满意 
- 猴子选大王，一直在取下标哪里卡住报错，最后面试官来句，“这题有没有想过约瑟夫环？”。



# 腾讯云音视频后台开发

一面

1、项目介绍，介绍了数字水印 
2、x264编码过程 
3、x264如何标记当前视频是x264编码器编码的 
4、描述NALU SSP PPS 
5、编程：256bit的数相加，数用数组表示 
6、进场和线程，死锁 
7、TCP/IP五层协议

二面

1、项目相关，如何评价视频视觉质量
2、C++初始类的顺序
3、新建一个空类会怎么yang
4、ping 的流程
5、udp通信的流程
6、编程：双线程计算一个1到1e16的素数个数。



# 腾讯天美C++后台



1.自我介绍
2.placement new？我：啥玩意没听过
3.虚函数会吧
4.内联函数
5.虚函数可以是内联的吗
6.mysql acid
7.mysql mvcc 隔离级别实现原理什么一套都讲了
8.protobuff的优缺点？缺点不会
9.C++11的智能指针
10.B+ B树 红黑树区别
11.同步异步
12.阻塞非阻塞
13.可以同步非阻塞吗？我答得是可以
14.epoll和select区别
15.epoll是同步的还是异步的？
16.协程？
17.对称协程和非对称协程？不会
18.udp和tcp区别？讲完区别，又从wireshark讲起tcp，然后如何网络优化分析（因为这几天正好在学wireshark，吹了一吹）
19.redis的跳表
20.redis几种基本数据结构？21.怎么用的zookeeper？底层原理是什么？不会底层
22.LRU怎么实现的？
23.协程为什么叫用户态线程？
24.动态规划和贪心区别？答的一般
25.动态规划可以得到全局最优解吗？可以
26.动态规划时间复杂度？看题，可能O（n）可能O（n^2）
27.只有一个数字出现奇数剩下都是出现偶次数，如何快速得到值？异或

28. https://leetcode-cn.com/problems/minimum-size-subarray-sum/ lc209题，我用的滑动窗口，面试官非说我错了，是有点边界问题改完他还说我是错的，不能这么写，讲了几次还觉得我是错的，最后面试官亲自改测试例子也证明了代码没有问题。
29. 反问 休闲类游戏组，帮别人面试的
30. 一致性算法？不会
31. 分布式了解吗？不太了解



# 腾讯 C++ 后端游戏服务器面试

一开始，面试官啥也没问，直接2道题，编码时间40分钟，
1.实现memcpy拷贝函数: void memcpy(void* psrc, void* pdst, size_t length)
2.实现字符串反转，以逗号作为切割符，切割的子串以单词作为单元反转
输入：hello world, god bless you
输出：world hello, you bless god
编码是腾讯会议里面的面呗， ACM输入 模式，就是没有测试案例，案例要自己写。
40分钟之后，做出来了。面试官看了，不太满意：

题目1，想考察的是，如果  A B 两个内存地址，如果有重叠的情况，该如何避免。我没写这一块，面试官就给我2分钟，让我思考，让我口述解决方法。我说，如果A的后端的某一块区域，重叠了B的前端，那就倒序，依次复制。面试官说可以，让我直接改代码。
5分钟改完。面试官又问，有没有优化办法，比如原本循环N次，改为循环N/8次。我没思路，面试官人挺好的，就点拨了一下，我立马想到，可以把每8个字节组成double类型，一个个double进行复制，就能节约次数了。

题目2，我写的反转思路是，通过空格，切分后，存入一个vector里，对vector进行一个反序，再拼接。面试官说，步骤太冗余，而且使用了额外的空间，让我看看能不能再优化。
我当时想了想，没啥思路，通过空格拆分完后，第0个和最后一个，长度都不一致，我也想不出原地swap的方法😂面试官说没关系，就这样吧。 （我感觉第二题我最多只能拿50分）


之后就是技术轰炸，大约问了40分钟：

1. 面试官 ： 请说一下“字节对齐”的概念。64位系统和32位系统，默认多少字节，来对齐的。
struct T {char a; double b; void* c; void func(){}}; 
sizeof(T)?      返回多大？
2. 面试官 ： 大端序 小端序，是如何用代码识别
3. 面试官 ： 虚继承的底层如何实现的
4. C++编译的4个过程，分别生成了什么文件。链接过程，解决了什么问题，为什么要有链接？
5. 重定向解决了什么问题？链接的过程，假如有3个文件，A文件和B文件都用了C的函数，链接的过程中，A和B的中间产物，请问它是如何识别C里面函数的地址的？
6. 重定向与动态链接的问题
7. 从汇编的角度，阐述一下，一个函数的调用过程
8. 你用过协程吗？协程和刚刚这个汇编的问题，很有关系
9. 子函数执行完后，回到主函数，我要如何知道主函数下一步需要执行的指令。如果要存指令的地址，请问存在什么地方？
10. 平时使用linux还是windows开发？
11. 假如有一个函数，函数里有一个char数组和int数组，如果数组过大，有什么风险？
面试官：
void func() {int arr[100w];}    子函数使用了100万的数组，请问有什么风险？
12. 我要你写一个windows的工具，去检索一下，我们代码里有哪一些，是有违规操作的地方？比如说，我有没有办法知道，某一个函数里，他的栈申请的大小有多大，会不会栈溢出？在不运行的情况下，只检测代码，有什么手段？
13. 给你一个库，比如.lib文件，当你拿去使用的时候，你如何知道每个函数，在运行时候，它的栈大小是多大？尝试从汇编的角度去思考。这个需要有一定的汇编基础，才能答出来。
14. 我问：咱们项目里会经常接触汇编这些底层的东西吗？
面试官： 不会经常接触，但是，一旦遇到问题，像刚刚说的那些问题，得要有一定的汇编知识，去支撑。比如说，我们内部，经常会有各种库嘛。当我们去调用一个同事的库的时候，我们是怎么去试验这个函数，肯定要先有一些甄别的手段。然后我们的栈也是很有限的。我们也不可能随意其挥霍我们的栈。
面试官： 另外，你刚刚问，为什么要用汇编，是因为用到了协程，比如微信的协程，他最核心的代码，就是用汇编。就是我刚刚说的，一个函数的回调过程。如果不了解函数调用过程，直接去用协程的话，很容易出问题。
15. 你如果没有linux的开发经验，那我接下来要问的问题，可能会比较吃力，比如linux的操作，IPC调用。
16. 我创建一个TCP连接，我给对端发生了一个信息，如果receive接口，收到的信息是0，那么意味着什么情况？
17. 你答的不是很对，那我换句话问，创建一个TCP链接，过程是怎么样的？
答：…………（balabala，3次握手过程）。所有信息都是在3次握手之后发送的，如果，握手失败的话，那接收端，收到的信息，就理论上是失败，或者空白。
面试官：  3次握手基本对，但是结果，不是我想要的结果。在调用receive接口的时候，其实对端已经断开连接。
18. 四次挥手的过程？里面有一个叫做time_wait的，用来解决什么问题
19. 假设，我发一个比较大的UDP的包，一个40K的包，请问对端，收到这个40K的包，会乱序吗？
答：不会乱序。
面试官：请问是什么原理？乱序的UDP，为何它的单个报文，会顺序正确？它是基于网络的哪一层，来保证报文不会乱序的？是IP层，还是哪一层？一个mpu的大小，也就1.5K吧，那底层肯定要拆包，那具体是哪一层，保证你mpu拆包完之后，再重组，还有序呢？
20. 面试官：答不出来？那基于刚刚的问题，请问TCP的粘包，又是怎么回事？
答：因为TCP里面有一个Nagle算法……
面试官：（打断）Nagle算法？不对不对不对。那我问你，Nagle算法去掉之后，他就不粘包了吗？Nagle算法只是一个参数，告诉Tcp的底层，尽快将业务包，往外推，而不是说，保证不粘包。
21. 你有用过epoll和select，请问他们的原理
22. 最后一个问题，RAII 模式，解决的是什么问题？    （（Resource Acquisition Is Initialization）,也称为“资源获取就是初始化”，资源统一管理机制 ）
23. RTTI（Run-Time Type Identification)，有没有了解？
24. 我们有一个类，可能它的基类指针，指向了一个它的派生类对象，请问我如何判断，他是不是指向派生类？
答：dynamic_cast
面试官：请问dynamic_cast怎么实现的？

这次是一面，从早上9点，一直面试到中午11:40，面试官全程，一个耳朵挂着耳机在开会，另一个耳朵挂着麦克，在和我面试。不得不说，面试官真的挺拼的，经验也很丰富，人很和蔼。
之前听说过 IEG 的难度非常大，确实，感觉和我上次面试的  WeGame ，难度完全不是一个量级的。
不过也毕竟是社招，希望找到经验丰富的人，难度自然会提升不少。只可惜我之前完全没做过Linux相关开发，面试官问我linux的问题，会不会。我只好直接说，没接触过。面试官也很无奈，只好选一些C++和操作系统、网络的问题，来问我。
问题中，有很多底层的问题，都需要用汇编的思路去想。汇编我真是一窍不通，所以全程，我基本都在发呆（满脑子：“这问的是个啥啊，项目里完全没用过……”）😂
题目我只勉勉强强，答出来不到一半。一曲凉凉，实在是不会。如果问一些常用的，比如智能指针如何实现，或者一些项目里常用到的技术，我还能说出来一点。今天问的题目，感觉是我面试这几年来，见过的最难的底层原理性的问题了，真是需要对C++吃的非常透彻，代码底层实现，汇编底层实现，都需要非常了解才行。还需要有业务层的丰富经验，来支撑。
最后，大家交流一下 🙂 ，大家应该也有很多参加过，腾讯的社招面试的小伙伴吧。大家的难度， 差不多都是这样的吗？ 😶（顺带问一下，有没有同为 Windows桌面端软件开发 的小伙伴啊）



# 腾讯C++后台一面

30分钟题
1.字符串()[]{}，要考虑嵌入优先级
2.第k大的数字

不会的问题：
1.C++回调不可以调用成员函数，能否调用static成员函数
2.网络编程中send成功，这个成功是指什么成功，数据到哪里去了
3.UDP包大于1472字节会发送成功吗？
4.fork子进程和父进程的虚拟空间一样吗，子进程怎么调用父进程的内容



# 深圳-腾讯-IEG-后台开发

一面：视频面试
1.自我介绍+项目介绍
2.time_wait是什么？time_wait过多产生原因？time_wait过多解决方法？
3.close_wait产生原因？close_wait产生太多原因？close_wait太多解决方法
4.IO多路复用，select、poll、epoll之间的区别
5.HashMap,HashTable,CurrentHashMap
算法1：数组中重复的数据
算法2：还原二叉树
二面：电话面试
1.自我介绍+项目介绍
2.项目亮点+难点
3.linux中进程状态R、D、S等代表什么意思
4.讲一下计算机五层结构，都有哪些协议？讲一下DNS
5.打开一个网页的具体过程，问的很详细，抠细节？
6.HTTP状态码是什么，有哪些状态码？301和302区别？
7.反向代理？跨域攻击？如何防御？
8.知道协程吗？
9.了解云原生吗？微服务的好处？K8s和docker？
三面：视频面试
1.聊项目
2.TCP和UDP的区别？
3.TCP协议如何保证可靠传输？
4.讲一下拥塞控制的过程？
5.知道NIO吗？优势在哪里？
6.Object类有哪些方法？各有什么作用？
算法1：快速排序，讲一下复杂度
算法2：判断是否是平衡二叉树，如何改进

answer

http://note.youdao.com/noteshare?id=6b65b31f99483fed68085f6a3b14b2f7&sub=FD7ACD24B1F14BE294287A6D7EF011BF



# 腾讯光子工作室游戏客户端开发c++

1、C++面向对象的三大特点
2、动态多态和静态多态的实现原理
3、虚函数的存储的内容
4、如何寻找虚函数表
5、构造函数能否为虚函数？
6、析构函数能否为虚函数？
7、虚函数表存储的位置？
8、归并 排序和快排的一个时间复杂度？空间复杂度？
9、谁是不稳定的，为什么是不稳定的？
10、操作系统的内存管理
11、死锁是怎样形成的？
12、如何破解死锁？
13、反射原理？
14、 红黑树特点，以及和数据库索引底层树的区别
15、八叉树的使用场景
16、如何判断一个点在三角形内部？
17、包含虚函数的类的大小判断（float四字节呀，虚函数需要计算大小的啊）
20、你对游戏开发有哪些了解（回答了游戏引擎unity）
20、没有给反问的机会。



# 腾讯云-一面-后端开发

1、斐波那契数列有几种解法？时间空间复杂度个是多少？
我这里答了三种，递归、数组递推、两个变量递推。但是时间复杂度有几个答错了，这可能是我挂的原因吧。
这里还有什么其他解法吗？欢迎大家评论，我也可以学习学习。
2、rand5生成rand3
我这里开始说的解法是rand5生成1-25，然后截断再和3取余加一，但是面试官说直接对rand5的结果判断是否大于3，是的话，再次rand5，否则的话跳出循环。然后问我时间复杂度，我想了半天，说的O(1)，面试官说主要想看常数是多少？我说和两个rand的范围有关，这里应该是3/5，面试官提醒我是5/3，时间复杂度怎么小于1呢。立马改口5/3。这里我确实不知道时间复杂度怎么理解 😬，求解答。



# 附件-C++面试宝典

https://www.nowcoder.com/tutorial/93/a34ed23d58b84da3a707c70371f59c21